<ons-page ng-controller="PrinterSettingsController"> 
	<ons-toolbar fixed-style>
		
		<div class="left">
			<ons-toolbar-button onclick="menu.setMainPage('page/settings.html', {closeMenu: true})">
			<ons-icon icon="ion-ios-arrow-back"></ons-icon>Back
			</ons-toolbar-button>
		</div>
		<div class="center">Printer Settings</div>
		<div class="right">
			<!-- 
			<ons-toolbar-button ng-click="save()">
			<ons-icon icon="ion-save" style="font-size: 32px; width: 1em;"></ons-icon> Save
			</ons-toolbar-button>
			 -->
		</div>
	</ons-toolbar>

	<form name="form" novalidate="novalidate" autocomplete="off" ng-submit="save()">
	<ons-list>
       <ons-list-header>Printer Settings</ons-list-header>

       <ons-list-item>
	       <label>Enable Printer</label>
	       <ons-switch modifier="list-item" ng-model="settings.enablePrinter"></ons-switch>
       </ons-list-item>
       
       <ons-list-item ng-show="settings.enablePrinter">
	       <label>Enable Kitchen Receipt</label>
	       <ons-switch modifier="list-item" ng-model="settings.enableKitchenPrinter"></ons-switch>
       </ons-list-item>
       
       <ons-list-item ng-show="settings.enablePrinter">
       		<label>Enable Cash Drawer</label>
       		<ons-switch modifier="list-item" ng-model="settings.enableDrawer"></ons-switch>
       </ons-list-item>
       
       <ons-list-header ng-show="settings.enablePrinter">Printer Type</ons-list-header>
       
       <ons-list-item modifier="tappable" ng-show="settings.enablePrinter">
          <label class="radio-button radio-button--list-item">
            <input type="radio" name="printerType" value="star" ng-model="settings.printerType" required>
            <div class="radio-button__checkmark radio-button--list-item__checkmark"></div>
            Star WebPRNT
          </label>
        </ons-list-item>
        
        <ons-list-item modifier="tappable" ng-show="settings.enablePrinter">
          <label class="radio-button radio-button--list-item">
            <input type="radio" name="printerType" value="epson" ng-model="settings.printerType" required>
            <div class="radio-button__checkmark radio-button--list-item__checkmark"></div>
            Epson ePOS-Print
          </label>
        </ons-list-item>
        
        <ons-list-header ng-show="settings.enablePrinter && settings.printerType != null">Printer IP Address</ons-list-header>
        <ons-list-item ng-show="settings.enablePrinter && settings.printerType != null">
        	<ons-row>
        		<ons-col>
        		
        			<input type="text" name="ipAddress" id="printer-ip-address-text" placeholder="Enter printer ip address"
        			ng-model="settings.ipAddress"
        			ng-minlength="7" ng-maxlength="15"
        			ng-pattern="'^([0-9]{1,3})[.]([0-9]{1,3})[.]([0-9]{1,3})[.]([0-9]{1,3})$'"
        			required 
        			class="text-input text-input--transparent" style="margin-top:8px; width: 100%;">
					        			
        		</ons-col>
        		<ons-col width="150px">
        			<div style="text-align:right;">
        				<ons-button class="button" ng-click="test()">Test Printer</ons-button>
        			</div>        			
        		</ons-col>
        	</ons-row>        	
        </ons-list-item>
	</ons-list>
	
        
    <div style="margin: 20px 8px 0px;">
      <button class="button button--large" type="submit">Save</button>
    </div>
    
    </form>
</ons-page> 